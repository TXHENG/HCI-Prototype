{"ast":null,"code":"import _defineProperty from\"D:/#Y2S1/HUMAN COMPUTER INTERACTION/Prototype/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/#Y2S1/HUMAN COMPUTER INTERACTION/Prototype/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/#Y2S1/HUMAN COMPUTER INTERACTION/Prototype/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import Noty from'noty';export default function useCart(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];useEffect(function(){if(localStorage.getItem('cart'))setCart(JSON.parse(localStorage.getItem('cart')));},[]);useEffect(function(){localStorage.setItem('cart',JSON.stringify(cart));},[cart]);var addToCart=function addToCart(id,qty){if(!!cart[id])setCart(function(val){return _objectSpread(_objectSpread({},val),{},_defineProperty({},id,parseInt(cart[id])+qty));});else setCart(function(val){return _objectSpread(_objectSpread({},val),{},_defineProperty({},id,qty));});var n=new Noty({text:\"Item is added to cart successfully.\",type:'success'});n.show();n.setTimeout(3000);};var removeFromCart=function removeFromCart(id){var qty=cart[id];setCart(function(prev){delete prev[id];return _objectSpread({},prev);});var n=new Noty({text:\"Item is removed from cart. <b>Undo</b>\",type:'success',callbacks:{onClick:function onClick(){addToCart(id,qty);}}});n.show();n.setTimeout(3000);};var setCartNum=function setCartNum(id,qty){setCart(function(val){return _objectSpread(_objectSpread({},val),{},_defineProperty({},id,qty));});};var clearCart=function clearCart(){setCart({});};return{cart:cart,addToCart:addToCart,removeFromCart:removeFromCart,setCartNum:setCartNum,clearCart:clearCart};}","map":{"version":3,"sources":["D:/#Y2S1/HUMAN COMPUTER INTERACTION/Prototype/my-app/src/useCart.jsx"],"names":["useEffect","useState","Noty","useCart","cart","setCart","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","id","qty","val","parseInt","n","text","type","show","setTimeout","removeFromCart","prev","callbacks","onClick","setCartNum","clearCart"],"mappings":"sZAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,cAAe,SAASC,CAAAA,OAAT,EAAoB,CAClC,cAAwBF,QAAQ,CAAC,EAAD,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eAEAL,SAAS,CAAC,UAAM,CACf,GAAGM,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,CACCF,OAAO,CAACG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAD,CAAP,CACD,CAHQ,CAGN,EAHM,CAAT,CAKAP,SAAS,CAAC,UAAM,CACfM,YAAY,CAACI,OAAb,CAAqB,MAArB,CAA6BF,IAAI,CAACG,SAAL,CAAeP,IAAf,CAA7B,EACA,CAFQ,CAEN,CAACA,IAAD,CAFM,CAAT,CAIA,GAAMQ,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAKC,GAAL,CAAa,CAC9B,GAAG,CAAC,CAACV,IAAI,CAACS,EAAD,CAAT,CACCR,OAAO,CAAC,SAAAU,GAAG,CAAI,CACd,sCAAWA,GAAX,wBAAiBF,EAAjB,CAAsBG,QAAQ,CAACZ,IAAI,CAACS,EAAD,CAAL,CAAR,CAAqBC,GAA3C,GACA,CAFM,CAAP,CADD,IAKCT,CAAAA,OAAO,CAAC,SAAAU,GAAG,CAAI,CACd,sCAAWA,GAAX,wBAAiBF,EAAjB,CAAsBC,GAAtB,GACA,CAFM,CAAP,CAGD,GAAIG,CAAAA,CAAC,CAAG,GAAIf,CAAAA,IAAJ,CAAS,CAChBgB,IAAI,sCADY,CAEhBC,IAAI,CAAE,SAFU,CAAT,CAAR,CAIAF,CAAC,CAACG,IAAF,GACAH,CAAC,CAACI,UAAF,CAAa,IAAb,EACA,CAfD,CAiBA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACT,EAAD,CAAQ,CAC9B,GAAIC,CAAAA,GAAG,CAAGV,IAAI,CAACS,EAAD,CAAd,CACAR,OAAO,CAAC,SAAAkB,IAAI,CAAI,CACf,MAAOA,CAAAA,IAAI,CAACV,EAAD,CAAX,CACA,wBACIU,IADJ,EAGA,CALM,CAAP,CAMA,GAAIN,CAAAA,CAAC,CAAG,GAAIf,CAAAA,IAAJ,CAAS,CAChBgB,IAAI,yCADY,CAEhBC,IAAI,CAAE,SAFU,CAGhBK,SAAS,CAAE,CACVC,OAAO,CAAE,kBAAM,CACdb,SAAS,CAACC,EAAD,CAAKC,GAAL,CAAT,CACA,CAHS,CAHK,CAAT,CAAR,CASAG,CAAC,CAACG,IAAF,GACAH,CAAC,CAACI,UAAF,CAAa,IAAb,EACA,CAnBD,CAqBA,GAAMK,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACb,EAAD,CAAKC,GAAL,CAAa,CAC/BT,OAAO,CAAC,SAAAU,GAAG,CAAI,CACd,sCAAWA,GAAX,wBAAiBF,EAAjB,CAAsBC,GAAtB,GACA,CAFM,CAAP,CAGA,CAJD,CAMA,GAAMa,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAI,CACrBtB,OAAO,CAAC,EAAD,CAAP,CACA,CAFD,CAIA,MAAO,CAACD,IAAI,CAAJA,IAAD,CAAOQ,SAAS,CAATA,SAAP,CAAkBU,cAAc,CAAdA,cAAlB,CAAiCI,UAAU,CAAVA,UAAjC,CAA6CC,SAAS,CAATA,SAA7C,CAAP,CACA","sourcesContent":["import {useEffect, useState} from 'react'\r\nimport Noty from 'noty'\r\nexport default function useCart () {\r\n\tconst [cart, setCart] = useState({});\r\n\r\n\tuseEffect(() => {\r\n\t\tif(localStorage.getItem('cart'))\r\n\t\t\tsetCart(JSON.parse(localStorage.getItem('cart')))\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem('cart', JSON.stringify(cart))\r\n\t}, [cart])\r\n\r\n\tconst addToCart = (id, qty) => {\r\n\t\tif(!!cart[id])\r\n\t\t\tsetCart(val => {\r\n\t\t\t\treturn {...val, [id]: parseInt(cart[id]) + qty}\r\n\t\t\t})\r\n\t\telse\r\n\t\t\tsetCart(val => {\r\n\t\t\t\treturn {...val, [id]: qty}\r\n\t\t\t})\r\n\t\tlet n = new Noty({\r\n\t\t\ttext: `Item is added to cart successfully.`,\r\n\t\t\ttype: 'success',\r\n\t\t})\r\n\t\tn.show()\r\n\t\tn.setTimeout(3000)\r\n\t}\r\n\r\n\tconst removeFromCart = (id) => {\r\n\t\tlet qty = cart[id]\r\n\t\tsetCart(prev => {\r\n\t\t\tdelete prev[id]\r\n\t\t\treturn {\r\n\t\t\t\t...prev\r\n\t\t\t}\r\n\t\t})\r\n\t\tlet n = new Noty({\r\n\t\t\ttext: `Item is removed from cart. <b>Undo</b>`,\r\n\t\t\ttype: 'success',\r\n\t\t\tcallbacks: {\r\n\t\t\t\tonClick: () => {\r\n\t\t\t\t\taddToCart(id, qty)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t\tn.show()\r\n\t\tn.setTimeout(3000)\r\n\t}\r\n\r\n\tconst setCartNum = (id, qty) => {\r\n\t\tsetCart(val => {\r\n\t\t\treturn {...val, [id]: qty}\r\n\t\t})\r\n\t}\r\n\r\n\tconst clearCart = ()=>{\r\n\t\tsetCart({})\r\n\t}\r\n\r\n\treturn {cart, addToCart, removeFromCart,setCartNum, clearCart};\r\n}"]},"metadata":{},"sourceType":"module"}