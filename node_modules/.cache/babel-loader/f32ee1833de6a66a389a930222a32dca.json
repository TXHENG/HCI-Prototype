{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Noty from 'noty';\nexport default function useCart() {\n  _s();\n\n  const [cart, setCart] = useState({});\n  useEffect(() => {\n    if (localStorage.getItem('cart')) setCart(JSON.parse(localStorage.getItem('cart')));\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n\n  const addToCart = (id, qty) => {\n    if (!!cart[id]) setCart(val => {\n      return { ...val,\n        [id]: parseInt(cart[id]) + qty\n      };\n    });else setCart(val => {\n      return { ...val,\n        [id]: qty\n      };\n    });\n  };\n\n  const removeFromCart = id => {\n    setCart(prev => {\n      delete prev[id];\n      return { ...prev\n      };\n    });\n    new Noty({\n      text: 'Item is removed from cart. Undo'\n    }).show();\n  };\n\n  const setCartNum = (id, qty) => {\n    setCart(val => {\n      return { ...val,\n        [id]: qty\n      };\n    });\n  };\n\n  return {\n    cart,\n    addToCart,\n    removeFromCart,\n    setCartNum\n  };\n}\n\n_s(useCart, \"vQN6kdyCi5BxI/N/rR3yf5wBSmk=\");","map":{"version":3,"sources":["D:/#Y2S1/HUMAN COMPUTER INTERACTION/Prototype/my-app/src/useCart.jsx"],"names":["useEffect","useState","Noty","useCart","cart","setCart","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","id","qty","val","parseInt","removeFromCart","prev","text","show","setCartNum"],"mappings":";;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,eAAe,SAASC,OAAT,GAAoB;AAAA;;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACf,QAAGM,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EACCF,OAAO,CAACG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAD,CAAP;AACD,GAHQ,EAGN,EAHM,CAAT;AAKAP,EAAAA,SAAS,CAAC,MAAM;AACfM,IAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACG,SAAL,CAAeP,IAAf,CAA7B;AACA,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;;AAIA,QAAMQ,SAAS,GAAG,CAACC,EAAD,EAAKC,GAAL,KAAa;AAC9B,QAAG,CAAC,CAACV,IAAI,CAACS,EAAD,CAAT,EACCR,OAAO,CAACU,GAAG,IAAI;AACd,aAAO,EAAC,GAAGA,GAAJ;AAAS,SAACF,EAAD,GAAMG,QAAQ,CAACZ,IAAI,CAACS,EAAD,CAAL,CAAR,GAAqBC;AAApC,OAAP;AACA,KAFM,CAAP,CADD,KAKCT,OAAO,CAACU,GAAG,IAAI;AACd,aAAO,EAAC,GAAGA,GAAJ;AAAS,SAACF,EAAD,GAAMC;AAAf,OAAP;AACA,KAFM,CAAP;AAGD,GATD;;AAWA,QAAMG,cAAc,GAAIJ,EAAD,IAAQ;AAC9BR,IAAAA,OAAO,CAACa,IAAI,IAAI;AACf,aAAOA,IAAI,CAACL,EAAD,CAAX;AACA,aAAO,EACN,GAAGK;AADG,OAAP;AAGA,KALM,CAAP;AAMA,QAAIhB,IAAJ,CAAS;AACRiB,MAAAA,IAAI,EAAE;AADE,KAAT,EAEGC,IAFH;AAGA,GAVD;;AAYA,QAAMC,UAAU,GAAG,CAACR,EAAD,EAAKC,GAAL,KAAa;AAC/BT,IAAAA,OAAO,CAACU,GAAG,IAAI;AACd,aAAO,EAAC,GAAGA,GAAJ;AAAS,SAACF,EAAD,GAAMC;AAAf,OAAP;AACA,KAFM,CAAP;AAGA,GAJD;;AAMA,SAAO;AAACV,IAAAA,IAAD;AAAOQ,IAAAA,SAAP;AAAkBK,IAAAA,cAAlB;AAAiCI,IAAAA;AAAjC,GAAP;AACA;;GA1CuBlB,O","sourcesContent":["import {useEffect, useState} from 'react'\r\nimport Noty from 'noty'\r\nexport default function useCart () {\r\n\tconst [cart, setCart] = useState({});\r\n\r\n\tuseEffect(() => {\r\n\t\tif(localStorage.getItem('cart'))\r\n\t\t\tsetCart(JSON.parse(localStorage.getItem('cart')))\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem('cart', JSON.stringify(cart))\r\n\t}, [cart])\r\n\r\n\tconst addToCart = (id, qty) => {\r\n\t\tif(!!cart[id])\r\n\t\t\tsetCart(val => {\r\n\t\t\t\treturn {...val, [id]: parseInt(cart[id]) + qty}\r\n\t\t\t})\r\n\t\telse\r\n\t\t\tsetCart(val => {\r\n\t\t\t\treturn {...val, [id]: qty}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst removeFromCart = (id) => {\r\n\t\tsetCart(prev => {\r\n\t\t\tdelete prev[id]\r\n\t\t\treturn {\r\n\t\t\t\t...prev\r\n\t\t\t}\r\n\t\t})\r\n\t\tnew Noty({\r\n\t\t\ttext: 'Item is removed from cart. Undo'\r\n\t\t}).show()\t\t\r\n\t}\r\n\r\n\tconst setCartNum = (id, qty) => {\r\n\t\tsetCart(val => {\r\n\t\t\treturn {...val, [id]: qty}\r\n\t\t})\r\n\t}\r\n\r\n\treturn {cart, addToCart, removeFromCart,setCartNum};\r\n}"]},"metadata":{},"sourceType":"module"}